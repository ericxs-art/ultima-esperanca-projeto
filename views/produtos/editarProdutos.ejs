<%- include('../partials/header') %>

    <main class="container d-flex flex-column flex-fill justify-content-around">
        <h1 class="text-center"> EDITAMENTO DE PRODUTOS </h1>
        <form action="/produtos/<%= produto.id %>" method="post">
            <div class="mb-3">

                <label for="inputName" class="form-label fs-2 mt-2">Nome do produto</label>
                <input type="text" id="inputName" class="form-control form-control-lg"
                    placeholder="Digite o nome do produto" name="nome" required value= "<%= produto.nome %>">

                <label for="inputDesc" class="form-label fs-2 mt-2">Descrição</label>
                <input type="text" id="inputDesc" class="form-control form-control-lg"
                    placeholder="Digite uma descrição" name="descricao" required value= "<%= produto.descricao %>">


                <div class="row g-2">
                    <div class="col-md-6">
                        <label for="inputTipo" class="form-label fs-2 mt-2">Tipo de Produtos</label>
                        <select name="categoria" class="form-select form-select-lg mb-3">
                            <option value="Esportes" <%= produto.tipo === "Esportes" ? "selected" : "" %>>Esportes</option>
                            <option value="Transportes" <%= produto.tipo === "Transportes" ? "selected" : "" %>>Transportes</option>
                            <option value="Roupa de gala" <%= produto.tipo === "Roupa de gala" ? "selected" : "" %>>Roupa de gala</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="inputImagem" class="form-label fs-2 mt-2">imagem</label>
                        <input type="text" id="inputImagem" class="form-control form-control-lg "
                            placeholder="Digite o link da imagem" name="url" required value=<%= produto.url%>>
                    </div>
                    <div class="row g-2">
                        <div class="col-md-6">
                            <label for="inputQntd" class="form-label fs-2 mt-2">Quantidade</label>
                            <input type="number" id="inputQntd" class="form-control form-control-lg"
                                placeholder="Quantidade do produto" name="quantidade" required value=<%= produto.quantidade%>>

                            <label for="inputPreco" class="form-label fs-2 mt-2">Preço</label>
                            <input type="number" id="inputPreco" class="form-control form-control-lg"
                                placeholder="Digite o Preço do produto" name="preco" required value=<%= produto.preco%>>
                        </div>
                        <div class="col-md-6">
                            <img id="previewImagem" class="d-flex mx-auto mt-3"
                                src="<%= produto.url %>"
                                alt="" height="200px" width="300px">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-lg btn-secondary">Editar</button>

        </form>
        <script>
            const inputImagem = document.getElementById("inputImagem")

            const previewimagem = document.getElementById("previewImagem")

            const imagempadrao = "https://soledade.r.br/admin/globalarq/noticia/noticia/651_366/semImagem.jpg"

            inputImagem.addEventListener("input", () => {
                const url = inputImagem.value

                previewimagem.src = url || imagempadrao
            })

        </script>

    </main>

    <%- include('../partials/footer') %>